# Data Harmonization Workflow
Katherine Todd-Brown
2026-January

- [Identify variables](#sec-IdentifyVariables)

This workflow provides guidance for moving data out of a machine
readable format and into an interoperable format where it can be linked
with data from other sources.

Data harmonization focuses on translating data into an interoperable
format. This can include manual data extraction (particularly from text
files), transformation of table or graphical data formats, and enriching
data with semantic references. Generally this stage should focus on
semantic annotations and standardizing the data model. Note that there
is *NOT* a new data file generated at this stage, instead level 1 data
should be generated by the functions.

| Data Harmonization | Lead | Do | Measure |
|----|----|----|----|
| Input: Identify data elements for harmonization <a href="#sec-IdentifyVariables" class="quarto-xref">SectionÂ 1</a> | Review level 0 data and purpose | Summarize what SoilDRaH vocabulary (`of_variable`) will be used and where the data elements in level 0 are. | *Expert Review*: Does this capture the data that needs to be harmonized? |
| Transformation: Create Level 1 data product draft | Identify the aspects (`is_type`) of the proposed vocabulary (`of_variable`). | Code any table or graph transformations and extract other information from sourced text strings. | Create summary figures and tables. |
| Output: Push harmonization to github | Document code | Create pull request | *Expert Review*: Does the level 1 data conform to the data model and semantics? Are the elements well sourced? |

This process should result in the following documentation:

- Extended README file co-located with rescued data (level 0 files) that
  should include new sections
  - documentation of SoilDRaH vocabulary and aspects used in level 1
    data
  - text extracted data elements coded as a new table creation
  - transformation of any tables or figures to a standard data model
  - creation of a level 1 data product
- Creation of a new `read` function that takes the level 0 data
  directory and returns either the level 0 or level 1 data product as
  specified.

## Identify variables

| Data Harmonization - Input | Lead | Do | Measure |
|----|----|----|----|
| Identify data variables for harmonization | Review level 0 data and purpose | Summarize what SoilDRaH vocabulary `of_variable` will be used and where the data elements in level 0 are. | Expert Review: Does this capture the data that needs to be harmonized? |

Identify the data variables entails documenting the connection to the
SoilDRaH `of_variable` in
`02_DataHarmonization/SoilDRaHVocabulary_of_variable.csv`.

To do this you

1)  review both the level 0 data and the current SoilDRaH `of_variable`,
2)  create a list of the proposed `of_variable` that you expect to
    use. + This will likely change when you start coding but we are
    looking for a starting point. + Focus on variables that are relevant
    for the motivated data curation + Identify any new variables that
    you expect to need to describe the dataset
3)  create a new issue with this list and link it to the original data
    rescue issue.

Expert evaluation should check that

1)  the data rescue is complete and in the correct branch (`main` as of
    2025-10)
2)  data elements identified in the original data rescue issue are
    included in the proposed `of_variable` list
3)  there are no obvious disconnects between the vocabularies in the
    data rescue and `of_variable`

To start this you should have a identified the original data rescue
issue and a complete data rescue on the main branch located in a
`01_DataRescue/AuthorYYYY` folder.

At the end of this you should have a plan for the data harmonization in
the form of a new issue containing the variables you need to harmonize.
